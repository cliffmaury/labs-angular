<!DOCTYPE html>
<html lang="en">
<head>

    <title>Labs Angular</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="//fonts.googleapis.com/css?family=Merriweather:400,300,700" rel="stylesheet" type="text/css">

    <link type="text/css" rel="stylesheet" href="assets/styles/materialize.min.css" media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="assets/styles/github-markdown.css" />
    <link type="text/css" rel="stylesheet" href="assets/styles/glyph.css" />
    <link type="text/css" rel="stylesheet" href="assets/styles/main.css" />

</head>
<body>


<header class="navbar-fixed">

    <nav class="navbar">
        <div class="nav-wrapper">
            <a href="http://valtech.fr" class="brand-logo hide-on-med-and-down">
                <i class="valtech-logo--header glyph" data-icon="valtech-logo" aria-hidden="true"></i>
            </a>

            <a class="brand-logo center">
                Labs Angular
            </a>

            <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>

            <ul class="right">
                <li>
                    <a href="https://github.com/NodeAndTyped/labs-angular/" title="See on github">
                        <i class="material-icons">visibility</i>
                    </a>
                </li>

                <li>
                    <a href="https://github.com/NodeAndTyped/labs-angular/zipball/master" title="download">
                        <i class="material-icons">file_download</i>
                    </a>
                </li>

                <li class="hide-on-med-and-down">
                    <a class="dropdown-button" href="#!" data-activates="dropdown1">
                        <i class="material-icons">menu</i>
                    </a>
                </li>
            </ul>


        </div>
    </nav>

</header>

<ul class="side-nav" id="mobile-demo">

    <li class="logo">

        <i class="valtech-logo--header glyph" data-icon="valtech-logo" aria-hidden="true"></i>

    </li>

    
            <li><a href="index.html">Accueil</a></li>
        
            <li><a href="tp1-installation.html">TP 1 - Installation</a></li>
        
            <li><a href="tp2-composant-pipe.html">TP 2 - Le composant Chronomètre</a></li>
        
            <li><a href="tp3-composants-imbriques-service-directive-angular.html">TP 3 - Créer une liste d&#39;utilisateurs en ligne</a></li>
        
</ul>

<ul id="dropdown1" class="dropdown-content">
    
            <li><a href="index.html">Accueil</a></li>
        
            <li><a href="tp1-installation.html">TP 1 - Installation</a></li>
        
            <li><a href="tp2-composant-pipe.html">TP 2 - Le composant Chronomètre</a></li>
        
            <li><a href="tp3-composants-imbriques-service-directive-angular.html">TP 3 - Créer une liste d&#39;utilisateurs en ligne</a></li>
        
</ul>

<div class="container container-body">
    <article class="markdown-body">
        <h1>TP 3</h1>
<blockquote>
<p>Créer une liste d'utilisateurs en ligne</p>
</blockquote>
<p>Dans ce TP, nous allons créer un tableau contenant la liste des utilisateurs avec leur statut en ligne. </p>
<p>Pour rappel, la structure initiale du projet est la suivante :</p>
<pre><code>src/app
├── app.component.css
├── app.component.html
├── app.component.spec.ts
├── app.component.ts
├── app.module.ts
</code></pre>
<h2>Notre 1er Service</h2>
<p>Dans le dossier <code>src/app</code>, créer votre 1er service sous le nom UserService.</p>
<p>Pour aller plus vite, vous pouvez utiliser l'outil <code>@angular/cli</code> pour créer votre service.</p>
<p><code>ng g service user</code></p>
<pre><code>src/app
├── user.service.spec.ts
├── user.service.ts
</code></pre>
<p>Ce service retourne la liste de tous les utilisateurs avec leur statut en ligne :</p>
<pre><code class="language-json">[
    {"id": 1, "email": "john.doe@gmail.com", "status": "online"},
    {"id": 2, "email": "jane.doe@gmail.com", "status": "online"},
    {"id": 3, "email": "jean.dupond@gmail.com", "status": "busy"},
    {"id": 4, "email": "jean.dupont@gmail.com", "status": "offline"},
    {"id": 5, "email": "jeanne.dupond@gmail.com", "status": "offline"},
    {"id": 6, "email": "joe.doe@gmail.com", "status": "online"}
]
</code></pre>
<h2>Composant tableau des utilisateurs</h2>
<p>Dans le dossier <code>src/app</code>, créer un dossier <code>user-table</code> qui contiendra tout le code source du composant UserTableComponent.</p>
<p>Ce composant UserTableComponent affiche la liste des utilisateurs avec leur statut dans tableau HTML.</p>
<p>Pour aller plus vite, vous pouvez utiliser l'outil <code>@angular/cli</code> pour créer votre composant.</p>
<p><code>ng g component user-table</code></p>
<p>Ajouter les feuilles de style à votre composant pour que :</p>
<pre><code>    - les lignes pairs soient en fonds gris clair
    - le texte 'online' soit en vert
    - le texte 'offline' soit en gris clair
    - le texte 'busy' soit en rouge
    - l'entête du tableau soit en fonds bleu clair, avec le texte en blanc
</code></pre>
<p>Cliquer sur le texte descriptif (balise caption) du tableau pour cacher/afficher les utilisateurs hors ligne.</p>
<pre><code>    Le texte du caption est sousligné.
    Chaque clic fait permuter les textes suivants :  
    "Cliquez sur ce texte pour cacher les utilisateurs hors ligne", texte stylisé en gris clair
    "Cliquez sur ce texte pour afficher les utilsateurs en ligne", texte stylisé en bleu foncé
</code></pre>
<p>Ci-dessous le code source ajouté au projet :</p>
<pre><code>src/app
└── user-table
    ├── user-table.component.css
    ├── user-table.component.html
    ├── user-table.component.spec.ts
    └── user-table.component.ts
</code></pre>
<h2>Composant enfant</h2>
<p>Créer un composant UserTableRowComponent représentant une ligne du tableau.</p>
<p>Pour aller plus vite, vous pouvez utiliser l'outil <code>@angular/cli</code> pour créer votre composant.</p>
<p><code>ng g component user-table-row</code></p>
<p>Modifier votre code pour intégrer ce composant dans le composant UserTableComponent.</p>
<p>Ci-dessous le code source ajouté au projet :</p>
<pre><code>src/app
└── user-table-row
    ├── user-table-row.component.css
    ├── user-table-row.component.html
    ├── user-table-row.component.spec.ts
    └── user-table-row.component.ts
</code></pre>
<h2>Conclusion</h2>
<p>Ce TP vous aura appris à :</p>
<ul>
<li>utiliser les directives intégrées à Angular (<em>ngIf, </em>ngFor)</li>
<li>créer un service Angular et l'injecter dans un composant</li>
<li>créer des composants avec une relation parent-enfant</li>
<li>créer et utiliser un template</li>
</ul>
<p><a href="tp4-formulaire-route.md">Suivant</a></p>

    </article>
</div>

<footer class="page-footer">

    <div class="container">

        <div class="row">
            <div class="col l12 s12">
                <p><a href="mailto:info@valtech.fr">info@valtech.fr</a></p>
                <p>Vous avez une vision concernant l'avenir digital de votre entreprise ? N'hésitez pas à nous contacter.</p>
                <p>Tél : 01 76 21 15 00</p>
                <p class="foot__offices">
                    <span>Aarhus | Amserfoort | Amsterdam | Bangalore | Bristol | Buenos Aires | Chicago | Copenhagen | Dallas | Düsseldorf | Eindhoven | Frankfurt | Geneva | Gurgaon | Göteborg | Honolulu | London | Malmö | Manchester | Montreal | Munich | New York | Paris | Singapore | Stockholm | Sydney | Uppsala | Utrecht | Västerås</span>
                </p>
            </div>
        </div>

        <div class="footer-social">
            <ul>
                <li><a href="https://www.facebook.com/valtech.fr"><i class="glyph" data-icon="facebook" title="Suivez-nous à facebook" aria-hidden="true"></i><span class="hidden">facebook</span></a></li>
                <li><a href="https://www.linkedin.com/company/valtech"><i class="glyph" data-icon="linkedin" title="Suivez-nous à linkedin" aria-hidden="true"></i><span class="hidden">linkedin</span></a></li>
                <li><a href="https://www.instagram.com/valtech_fr/"><i class="glyph" data-icon="instagram" title="Suivez-nous à instagram" aria-hidden="true"></i><span class="hidden">instagram</span></a></li>
                <li><a href="https://twitter.com/Valtech_FR"><i class="glyph" data-icon="twitter" title="Suivez-nous à twitter" aria-hidden="true"></i><span class="hidden">twitter</span></a></li>
            </ul>
        </div>



    </div>

    <div class="footer-copyright">
        <div class="container">

            © Valtech 2016

            <a  class="grey-text text-lighten-4 right"  href="http://valtech.fr/services/mentions-legales-cgu/">
                Mentions légales / CGU
            </a>

            </ul>
        </div>
    </div>

</footer>

<script type="text/javascript" src="assets/scripts/jquery.min.js"></script>
<script type="text/javascript" src="assets/scripts/materialize.min.js"></script>

<script>
    $( document ).ready(function(){
        $(".button-collapse").sideNav();
        $(".dropdown-button").dropdown();
    });
</script>

</body>
</html>